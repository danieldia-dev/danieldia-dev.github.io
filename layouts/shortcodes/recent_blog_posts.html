{{/* layouts/shortcodes/recent_blog_posts.html */}}
{{ $count := .Get "count" | default 3 }}
<section id="blog-showcase" class="py-10 md:py-16">
    <div class="container mx-auto px-6 max-w-3xl">
        <h2 class="text-2xl md:text-3xl font-semibold text-custom-red-500 mb-8 text-center">
            <a href="{{ "/blog/" | relURL }}" class="hover:underline">Latest From The Blog</a>
        </h2>
        <div class="space-y-6 md:space-y-8">
            {{ range first $count (where site.RegularPages.ByDate.Reverse "Type" "blog") }}
                {{ partial "blog-card.html" . }}
            {{ else }}
                 <p class="text-center text-custom-gray-600 py-4">No blog posts yet.</p>
            {{ end }}
        </div>
        {{ if gt (len (where site.RegularPages "Type" "blog")) $count }}
        <div class="text-center mt-10">
            <a href="{{ "/blog/" | relURL }}" class="btn-primary">View All Posts</a>
        </div>
        {{ end }}
    </div>
</section>
